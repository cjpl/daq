<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CAENScope: generic_board.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>generic_board.h</h1><a href="generic__board_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// Name:        generic_board.h</span>
<a name="l00003"></a>00003 <span class="comment">// Purpose:     </span>
<a name="l00004"></a>00004 <span class="comment">// Author:      NDA</span>
<a name="l00005"></a>00005 <span class="comment">// Modified by: </span>
<a name="l00006"></a>00006 <span class="comment">// Created:     04/03/06 14:18:40</span>
<a name="l00007"></a>00007 <span class="comment">// RCS-ID:      </span>
<a name="l00008"></a>00008 <span class="comment">// Copyright:   CAEN S.p.A All rights reserved.</span>
<a name="l00009"></a>00009 <span class="comment">// Licence:     </span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#ifndef _GENERIC_BOARD_H_</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#define _GENERIC_BOARD_H_</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="preprocessor">#if defined(__GNUG__) &amp;&amp; !defined(__APPLE__)</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#pragma interface &quot;generic_board.h&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;wx/arrimpl.cpp&gt;</span> 
<a name="l00023"></a>00023 <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> 
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025 <span class="preprocessor">        #include &quot;<a class="code" href="cvt__board__commons_8h.html" title="VME Board common features definitions.">cvt_board_commons.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">        #include &quot;<a class="code" href="cvt___v1724_8h.html" title="V1724 VME board definitions.">cvt_V1724.h</a>&quot;</span>
<a name="l00027"></a>00027 }
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="generic__board__channel_8h.html">generic_board_channel.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="virtual__board__channel_8h.html">virtual_board_channel.h</a>&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">class </span><a class="code" href="class_board_worker_thread.html">BoardWorkerThread</a>;
<a name="l00032"></a>00032 <span class="keyword">class </span><a class="code" href="class_app_settings.html">AppSettings</a>;
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="class_generic_board.html">00034</a> <span class="keyword">class </span><a class="code" href="class_generic_board.html">GenericBoard</a>
<a name="l00035"></a>00035 {
<a name="l00036"></a>00036 <span class="keyword">public</span>:
<a name="l00037"></a>00037         <a class="code" href="class_generic_board.html#a46628bf0df08c140a8a1dd9dd09ba3c3">GenericBoard</a>( <span class="keywordtype">int</span> board_index, <span class="keywordtype">void</span> (* scope_refresh)( <span class="keywordtype">int</span>, <span class="keywordtype">bool</span>), <span class="keywordtype">void</span> (*update_samples_ready_led)( <span class="keywordtype">bool</span>), wxMutex *p_data_mutex, <a class="code" href="class_app_settings.html">AppSettings</a> *p_app_settings);
<a name="l00038"></a>00038         <span class="keyword">virtual</span> <a class="code" href="class_generic_board.html#a1cb5fad971a09a74fd9e896ec5862a73">~GenericBoard</a>(<span class="keywordtype">void</span>);
<a name="l00039"></a>00039 
<a name="l00040"></a>00040         <span class="comment">//</span>
<a name="l00041"></a>00041         <span class="comment">// Properties</span>
<a name="l00042"></a><a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">00042</a>         wxArrayPtrVoid <a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">m_channel_array</a>;
<a name="l00043"></a><a class="code" href="class_generic_board.html#a635e7843f3b445634f71a2d42e010e86">00043</a>         wxArrayPtrVoid <a class="code" href="class_generic_board.html#a635e7843f3b445634f71a2d42e010e86">m_virtual_channel_array</a>;
<a name="l00044"></a><a class="code" href="class_generic_board.html#a7225ecca45378b3830a532392e052571">00044</a>         wxMutex *<a class="code" href="class_generic_board.html#a7225ecca45378b3830a532392e052571">m_p_data_mutex</a>;
<a name="l00045"></a><a class="code" href="class_generic_board.html#ae40bb3cab816ef28ede341ff2b9032b9">00045</a>         void (* <a class="code" href="class_generic_board.html#ae40bb3cab816ef28ede341ff2b9032b9">ScopeRefresh</a>)( int, bool);
<a name="l00046"></a><a class="code" href="class_generic_board.html#afa35a55faea4d5599bb9acb2c0f5471a">00046</a>         void (* <a class="code" href="class_generic_board.html#afa35a55faea4d5599bb9acb2c0f5471a">UpdateSamplesReadyLed</a>)( bool);  
<a name="l00047"></a>00047 
<a name="l00048"></a>00048         <span class="comment">//</span>
<a name="l00049"></a>00049         <span class="comment">// Methods</span>
<a name="l00050"></a>00050         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#ad5d6d014ffe75f36742f42072cbac01e">LoadConfig</a>( wxConfigBase* p_config, <span class="keyword">const</span> wxString&amp; base_section);
<a name="l00051"></a>00051         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a94e9718a35670d4d19c707c9e02d94c4">SaveConfig</a>( wxConfigBase* p_config, <span class="keyword">const</span> wxString&amp; base_section);
<a name="l00052"></a>00052         <span class="keyword">virtual</span> <a class="code" href="class_generic_board_channel.html">GenericBoardChannel</a>* <a class="code" href="class_generic_board.html#afeaafe37d076623c5be4b31df7f1c1e2">CreateVirtualChannel</a>( <span class="keywordtype">int</span> ch_index, <span class="keywordtype">void</span> (* scope_refresh)( <span class="keywordtype">int</span>, <span class="keywordtype">bool</span>), wxMutex *p_data_mutex);
<a name="l00053"></a>00053         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a90eb2bb8c3baeab21405f3f48a2888af">GetPhysicalChannelValue</a>( <span class="keywordtype">int</span> ch_index, <span class="keywordtype">int</span> sample_index, <span class="keywordtype">double</span> &amp;result);
<a name="l00054"></a>00054         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#ae0cf5a9d37de4e7e9074334fe69c46ab">GetPhysicalChannelValueVolt</a>( <span class="keywordtype">int</span> ch_index, <span class="keywordtype">int</span> sample_index, <span class="keywordtype">double</span> &amp;result);
<a name="l00055"></a>00055         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#ac817ca3955f9f89de6a2d0e6cc1b6651">GetPhysicalChannelBufferCount</a>( <span class="keywordtype">int</span> ch_index, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> &amp;result);
<a name="l00056"></a><a class="code" href="class_generic_board.html#a2146f0131d6ef74403e88a3289a900db">00056</a>         <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="class_generic_board.html#a2146f0131d6ef74403e88a3289a900db">GetDACUpdateFactor</a>( <span class="keywordtype">void</span>){ <span class="keywordflow">return</span> 1.0;};
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         <span class="comment">// </span>
<a name="l00059"></a>00059         <span class="comment">// Pure virtual methods</span>
<a name="l00060"></a>00060         <span class="keyword">virtual</span> <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> <a class="code" href="class_generic_board.html#a34f15e306d5825c282943ab71ef8f88b">GetChEnableMsk</a>() <span class="keyword">const</span> = 0;
<a name="l00061"></a>00061         <span class="keyword">virtual</span> wxString <a class="code" href="class_generic_board.html#a39084bf3c1335c32882eeb8d1002f161">GetTypeString</a>()= 0;
<a name="l00062"></a>00062         <span class="keyword">virtual</span> <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610" title="The V17XX board type.">CVT_V17XX_TYPES</a> <a class="code" href="class_generic_board.html#af5b8b87088a10f05d3896ff8a4594009">GetType</a>()= 0;
<a name="l00063"></a>00063         <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="class_generic_board.html#a6b0914da4072deb30c5e6291ca33bd23">GetClockMHz</a>() <span class="keyword">const</span> = 0;
<a name="l00064"></a>00064         <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="class_generic_board.html#a737282367d756a5b472962ebc09eff88">GetSampleBit</a>() <span class="keyword">const</span> = 0; 
<a name="l00065"></a>00065         <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="class_generic_board.html#a8688fcb99339c7add3c0f78ac8c51ec8">GetVolt2Bit</a>() <span class="keyword">const</span> = 0;
<a name="l00066"></a>00066         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#af0b59d211f1078a9f84afb895e0e0a3b">Open</a>( <span class="keywordtype">long</span> vme_handle)= 0;
<a name="l00067"></a>00067         <span class="keyword">virtual</span> <a class="code" href="class_generic_board_channel.html">GenericBoardChannel</a>* <a class="code" href="class_generic_board.html#ac915346d10630b6edbf9c4fedd2b9933">CreateChannel</a>( <span class="keywordtype">int</span> ch_index, <span class="keywordtype">void</span> (* scope_refresh)( <span class="keywordtype">int</span>, <span class="keywordtype">bool</span>), wxMutex *p_data_mutex)= 0;
<a name="l00068"></a>00068         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#afbcb092fda3e31225bcbde4b792ab2d7">WriteSampleBufferSize</a>( <span class="keywordtype">void</span>) = 0;
<a name="l00069"></a>00069         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#ace2fcbecdf6a24a21da867258270b42d">WriteTriggerMode</a>( <span class="keywordtype">bool</span> started) = 0;
<a name="l00070"></a>00070         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a4b463d3da1b0a710e175deffcd0489fb">WriteSoftwareTrigger</a>( <span class="keywordtype">void</span>) = 0;
<a name="l00071"></a>00071         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a4e3c93bb8360b976b66bbf2e67efbb19">SetFrontPanelIO</a>( <span class="keywordtype">bool</span> use_TTL)= 0;
<a name="l00072"></a>00072         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#ae953555d1935a1dd2c1541d29ea2c89a">ReadBoardData</a>( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_max_num_samples, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_num_events)= 0;
<a name="l00073"></a>00073         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a937e9e9d0a6a6b7c59b7897f1d92d993">DoStartAcquisition</a>( <span class="keywordtype">void</span>)= 0;
<a name="l00074"></a>00074         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#af3b1fa87575463095cf25d42c292b319">DoStopAcquisition</a>( <span class="keywordtype">void</span>)= 0;
<a name="l00075"></a>00075         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a1ae2abb67b1e4dd4850de88b9684c413">GetBoardMemory</a>( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> &amp;num_ksamples_per_channel)= 0;
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="class_generic_board.html#a23dee19e999f909855c83f0e24e085dd">00077</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a23dee19e999f909855c83f0e24e085dd">Init</a>( <span class="keywordtype">long</span> <span class="comment">/* vme_handle*/</span>){ <span class="keywordflow">return</span> <span class="keyword">true</span>;};
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#ac4ed5fd3cf866be63c139c13872a5e6b">DrawTrigger</a>( <span class="keywordtype">int</span> scope_index, wxDC &amp;dc);
<a name="l00080"></a>00080         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#adef3dd68fd266de68700014c37146b01">DrawCursor</a>( <span class="keywordtype">int</span> scope_index, wxDC &amp;dc);
<a name="l00081"></a>00081         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#a8fe7e2be450ada7a194ee4e6da4cc61f">DrawSamples</a>( <span class="keywordtype">int</span> scope_index, wxDC &amp;dc);
<a name="l00082"></a>00082         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#a3202b217616ab622f468ed8b98515bd4">SetDiv2Pix</a>( <span class="keywordtype">int</span> scope_index, <span class="keywordtype">double</span> div_2_pix_Y);
<a name="l00083"></a>00083         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#abc01333409be788f85dce6c2a6d54166">SetLeftDiv2Pix</a>( <span class="keywordtype">int</span> scope_index, <span class="keywordtype">double</span> div_2_pix_Y);
<a name="l00084"></a>00084         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#ab233287dcc61db2026b14c933cbacaf8">SetSec2Div</a>( <span class="keywordtype">int</span> scope_index, <span class="keywordtype">double</span> sec_2_div);
<a name="l00085"></a>00085         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#a4139be60d3a5c491cb543268fc6e6e63">SetPix</a>( <span class="keywordtype">int</span> scope_index, <span class="keywordtype">int</span> pix_X, <span class="keywordtype">int</span> pix_Y);
<a name="l00086"></a>00086         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#a30f7f1283041aae19864140f66dd896c">SetLeftPix</a>( <span class="keywordtype">int</span> scope_index, <span class="keywordtype">int</span> pix_X, <span class="keywordtype">int</span> pix_Y);
<a name="l00087"></a>00087         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#ab3534140763371122d2596d25da2b108">DrawPosition</a>( <span class="keywordtype">int</span> scope_index, wxDC &amp;dc);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#abc057bba1aa8a56b4a36130a223362ae">DoStartRunning</a>( <span class="keywordtype">void</span>);
<a name="l00090"></a>00090         <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#acf07c80e6eb1e484ea25767862919e22">DoStopRunning</a>( <span class="keywordtype">void</span>);
<a name="l00091"></a>00091         <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a66d553d8c691d2aed869a40b7d95a421">ToggleRecordStatus</a>( <span class="keyword">const</span> wxString &amp;path, <span class="keyword">const</span> wxString &amp;file_name, <span class="keyword">const</span> wxString &amp;timestamp, <span class="keywordtype">bool</span> start, <span class="keywordtype">bool</span> use_max_buffer, <span class="keywordtype">int</span> max_buffer);
<a name="l00092"></a>00092         <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a1681c2aa4c2708d8033cc4fd5c5296da">IsRunning</a>( <span class="keywordtype">void</span>);
<a name="l00093"></a>00093     <span class="keywordtype">void</span> <a class="code" href="class_generic_board.html#a727a0676194b2a8cac0ba1e84fdc296c">SetRunning</a>( <span class="keywordtype">bool</span> value);
<a name="l00094"></a>00094 <span class="comment">//    bool m_thread_exited;</span>
<a name="l00095"></a>00095 <span class="keyword">protected</span>:
<a name="l00096"></a><a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">00096</a>         <a class="code" href="structcvt__board__data.html" title="Data common to every board.">cvt_board_data</a>* <a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>;
<a name="l00097"></a><a class="code" href="class_generic_board.html#a4baf7461ac816acdbc6c73b000c407c7">00097</a>         <a class="code" href="class_board_worker_thread.html">BoardWorkerThread</a> *<a class="code" href="class_generic_board.html#a4baf7461ac816acdbc6c73b000c407c7">m_p_worker_thread</a>;
<a name="l00098"></a><a class="code" href="class_generic_board.html#aa76bd7138bf07b8b67454f83d71b6f2b">00098</a>         <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#aa76bd7138bf07b8b67454f83d71b6f2b">m_is_running</a>;
<a name="l00099"></a><a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">00099</a>         <a class="code" href="class_app_settings.html">AppSettings</a> *<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>;
<a name="l00100"></a><a class="code" href="class_generic_board.html#a041fc2293b1fe088ebf067d0aa1d9308">00100</a>         <span class="keywordtype">int</span> <a class="code" href="class_generic_board.html#a041fc2293b1fe088ebf067d0aa1d9308">m_board_index</a>;
<a name="l00101"></a><a class="code" href="class_generic_board.html#a4660601c1251185b264cdcc8f0da7cec">00101</a>         <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#a4660601c1251185b264cdcc8f0da7cec">m_is_recording</a>;
<a name="l00102"></a><a class="code" href="class_generic_board.html#ab451eff41253b148ab8246ee87d8e77e">00102</a>         <span class="keywordtype">int</span> <a class="code" href="class_generic_board.html#ab451eff41253b148ab8246ee87d8e77e">m_record_max_buffers</a>;
<a name="l00103"></a><a class="code" href="class_generic_board.html#aacdcd1f9857536f4cc08f47121e0215f">00103</a>         <span class="keywordtype">bool</span> <a class="code" href="class_generic_board.html#aacdcd1f9857536f4cc08f47121e0215f">m_record_use_max_buffers</a>;
<a name="l00104"></a><a class="code" href="class_generic_board.html#a369b65d21659193aa215b7281fb3ea49">00104</a> <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_board_worker_thread.html">BoardWorkerThread</a>;
<a name="l00105"></a>00105 };
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="preprocessor">#endif          // _GENERIC_BOARD_H_</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 1 12:08:01 2010 for CAENScope by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
