<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CAENScope: V17XX_board.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>V17XX_board.cpp</h1><a href="_v17_x_x__board_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// Name:        V17XX_board.cpp</span>
<a name="l00003"></a>00003 <span class="comment">// Purpose:     </span>
<a name="l00004"></a>00004 <span class="comment">// Author:      NDA</span>
<a name="l00005"></a>00005 <span class="comment">// Modified by: </span>
<a name="l00006"></a>00006 <span class="comment">// Created:     04/03/06 14:18:40</span>
<a name="l00007"></a>00007 <span class="comment">// RCS-ID:      </span>
<a name="l00008"></a>00008 <span class="comment">// Copyright:   CAEN S.p.A. All rights reserved</span>
<a name="l00009"></a>00009 <span class="comment">// Licence:     </span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#if defined(__GNUG__) &amp;&amp; !defined(__APPLE__)</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#pragma implementation &quot;V17XX_board.h&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span>
<a name="l00017"></a>00017 <span class="comment">// For compilers that support precompilation, includes &quot;wx/wx.h&quot;.</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;wx/wxprec.h&quot;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifdef __BORLANDC__</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#pragma hdrstop</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef WX_PRECOMP</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#include &quot;wx/wx.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#endif</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="_v17_x_x__board_8h.html">V17XX_board.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="_v17_x_x__board__channel_8h.html">V17XX_board_channel.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="appsettings_8h.html">appsettings.h</a>&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="class_v17_x_x_board.html#a93d4268a6a9ad11c28f3c28fb27eee17">00032</a> <a class="code" href="class_v17_x_x_board.html#a93d4268a6a9ad11c28f3c28fb27eee17">V17XXBoard::V17XXBoard</a>( <span class="keywordtype">int</span> board_index, <span class="keywordtype">void</span> (*scope_refresh)( <span class="keywordtype">int</span>, <span class="keywordtype">bool</span>), <span class="keywordtype">void</span> (*update_samples_ready_led)( <span class="keywordtype">bool</span>), wxMutex *p_data_mutex, <a class="code" href="class_app_settings.html">AppSettings</a> *p_app_settings, <a class="code" href="class_v17_x_x_board.html#a80e490721eb1a21961d6ba35f8502b40">V17XXBoard::BOARD_VARIANT</a> board_variant): 
<a name="l00033"></a>00033                                                 <a class="code" href="class_generic_board.html">GenericBoard</a>( board_index, scope_refresh, update_samples_ready_led, p_data_mutex, p_app_settings) 
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035         <a class="code" href="class_v17_x_x_board.html#a339163242d02955379ce764aeca4ea3a">m_board_variant</a>= board_variant;
<a name="l00036"></a>00036         this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>= (<a class="code" href="structcvt__board__data.html" title="Data common to every board.">cvt_board_data</a>*)<span class="keyword">new</span> <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>;
<a name="l00037"></a>00037 }
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="class_v17_x_x_board.html#a1929824422bbd747bb8c940b888d9207">00039</a> <a class="code" href="class_v17_x_x_board.html#a1929824422bbd747bb8c940b888d9207">V17XXBoard::~V17XXBoard</a>(<span class="keywordtype">void</span>)
<a name="l00040"></a>00040 {
<a name="l00041"></a>00041         <span class="keywordflow">if</span>( this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>!= NULL)
<a name="l00042"></a>00042         {
<a name="l00043"></a>00043                 <a class="code" href="cvt___v1724_8h.html#ac033b04f75f97bef286dcc04b8b08af0" title="V1724 VME boards closing and resource free.">cvt_V1724_close</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>);
<a name="l00044"></a>00044                 <span class="keyword">delete</span> (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data;
<a name="l00045"></a>00045                 this-&gt;m_p_data= NULL;
<a name="l00046"></a>00046         }
<a name="l00047"></a>00047 }
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="class_v17_x_x_board.html#aabff66ad73b56719ce765830dc567f63">00049</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#aabff66ad73b56719ce765830dc567f63">V17XXBoard::Open</a>( <span class="keywordtype">long</span> <span class="comment">/* vme_handle*/</span>)
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00052"></a>00052 }
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="class_v17_x_x_board.html#a78e2224fac05ca5aabe42f2c40e0b246">00054</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#a78e2224fac05ca5aabe42f2c40e0b246">V17XXBoard::Init</a>( <span class="keywordtype">long</span> vme_handle)
<a name="l00055"></a>00055 {
<a name="l00056"></a>00056         <span class="comment">//</span>
<a name="l00057"></a>00057         <span class="comment">// Open the CAENVMETool module</span>
<a name="l00058"></a>00058         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a41ff5e2640e2f1398e51abb9a41bac7d" title="V1724 VME boards data initialization.">cvt_V1724_open</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, this-&gt;m_p_data-&gt;m_base_address, vme_handle, this-&gt;GetType()))
<a name="l00059"></a>00059                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00060"></a>00060         <span class="comment">//</span>
<a name="l00061"></a>00061         <span class="comment">// Write trigger mode</span>
<a name="l00062"></a>00062         <span class="keywordflow">if</span>( !this-&gt;<a class="code" href="class_v17_x_x_board.html#acac548d15a750157f8c0d75658eec621">WriteTriggerMode</a>( <span class="keyword">false</span>))
<a name="l00063"></a>00063                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00064"></a>00064         <span class="comment">// </span>
<a name="l00065"></a>00065         <span class="comment">// Front Panel IO</span>
<a name="l00066"></a>00066         <span class="keywordflow">if</span>( !this-&gt;<a class="code" href="class_v17_x_x_board.html#a5eeb4abf2ebdd33147b45d208d07af1b">SetFrontPanelIO</a>( this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#ad5b5b822853ffd74b43f81a590bb0ee9">m_use_TTL</a>))
<a name="l00067"></a>00067                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         <span class="comment">//</span>
<a name="l00070"></a>00070         <span class="comment">// Check if board id and firmware revision are correct</span>
<a name="l00071"></a>00071         <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> firmware_rev;
<a name="l00072"></a>00072         <a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html" title="V1724 board ROM configuration.">CVT_V1724_ROM_CONFIG</a> rom_config;
<a name="l00073"></a>00073         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_board_type_correct;
<a name="l00074"></a>00074         <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> is_firmware_rev_correct;
<a name="l00075"></a>00075         <span class="comment">//if( !cvt_V1724_get_system_info( (cvt_V1724_data* )this-&gt;m_p_data, &amp;firmware_rev, &amp;rom_config, &amp;is_board_type_correct, &amp;is_firmware_rev_correct))</span>
<a name="l00076"></a>00076         <span class="comment">//{</span>
<a name="l00077"></a>00077         <span class="comment">//      return false;</span>
<a name="l00078"></a>00078         <span class="comment">//}</span>
<a name="l00079"></a>00079         <span class="keywordflow">if</span>( !<a class="code" href="class_v17_x_x_board.html#a5cdd2f9de7cd2c2369ed8dc803adc079">V17XXBoard::v1724_get_system_info_wrapper</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data, &amp;firmware_rev, &amp;rom_config, &amp;is_board_type_correct, &amp;is_firmware_rev_correct))
<a name="l00080"></a>00080         {
<a name="l00081"></a>00081                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00082"></a>00082         }
<a name="l00083"></a>00083         <span class="keywordflow">if</span>( !is_board_type_correct)
<a name="l00084"></a>00084                 wxLogError( wxString::Format( <span class="stringliteral">&quot;Settings&#39;s board type &#39;%s&#39; doesn&#39;t match configuration rom board type\n&quot;</span>, this-&gt;<a class="code" href="class_generic_board.html#a39084bf3c1335c32882eeb8d1002f161">GetTypeString</a>().c_str()));
<a name="l00085"></a>00085         <span class="keywordflow">if</span>( !is_firmware_rev_correct)
<a name="l00086"></a>00086                 wxLogError( wxString::Format( <span class="stringliteral">&quot;The board firmware revision &#39;%04x&#39; is lesser than CAENVMETool&#39;s minimum firmware revision &#39;%04x&#39;. Please update the board&#39;s firmware.\n&quot;</span>, firmware_rev, <a class="code" href="cvt___v1724_8h.html#a8de521c69c9d100a9fc230d2883d4a9a">CVT_V1724_MIN_FIRMARE_REV</a>));
<a name="l00087"></a>00087         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00088"></a>00088 }
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="class_v17_x_x_board.html#a5cdd2f9de7cd2c2369ed8dc803adc079">00090</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#a5cdd2f9de7cd2c2369ed8dc803adc079">V17XXBoard::v1724_get_system_info_wrapper</a>( <a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* p_data, <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> *p_firmware_rev, <a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html" title="V1724 board ROM configuration.">CVT_V1724_ROM_CONFIG</a> *p_rom_config, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_board_type_correct, <a class="code" href="cvt__common__defs_8h.html#a050c65e107f0c828f856a231f4b4e788" title="Boolean type.">BOOL</a> *p_is_firmware_rev_correct) 
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092         <span class="comment">// wrapper for the cvt_V1724_get_system_info API which doesn&#39;t know about DT and NIM ADCs</span>
<a name="l00093"></a>00093         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a94b07637f1c3b8f6c96553bb15c26160" title="Gets board&amp;#39;s system information.">cvt_V1724_get_system_info</a>( p_data, p_firmware_rev, p_rom_config, p_is_board_type_correct, p_is_firmware_rev_correct))
<a name="l00094"></a>00094         {
<a name="l00095"></a>00095                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097         <span class="comment">// Overridde the p_is_board_type_correct flag to support the DT and NIM ADCs</span>
<a name="l00098"></a>00098         <span class="keywordflow">switch</span>( p_rom_config-&gt;<a class="code" href="struct_c_v_t___v1724___r_o_m___c_o_n_f_i_g.html#adccf5f23dbadcdf821224306c5410a76" title="Configuration ROM Board identifier CVT_V17XX_ROM_CFG_BOARD_ID.">m_board_id</a>)
<a name="l00099"></a>00099         {
<a name="l00100"></a>00100         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a88c55f233927ec2c29e232b84beb74a4">CVT_V17XX_RCFG_BOARD_ID_V1724</a>:                     <span class="comment">//  V1724</span>
<a name="l00101"></a>00101         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143ae862dd1461ca933bb91ae31459842624">CVT_V17XX_RCFG_BOARD_ID_VX1724</a>:            <span class="comment">// VX1724</span>
<a name="l00102"></a>00102         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffac962fe0e0111c463a4a18fe4b04130ed" title="The board is DT5724.">CVT_V17XX_RCFG_BOARD_ID_DT5724</a>:            <span class="comment">// DT5724</span>
<a name="l00103"></a>00103         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffa2822946068d88622e142239df4a2396a" title="The board is N6724.">CVT_V17XX_RCFG_BOARD_ID_N6724</a>:                     <span class="comment">//  N6724</span>
<a name="l00104"></a>00104                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a56a2e93e73cffaeaf50783acd863aad2" title="The board is V1724.">CVT_V1724</a>)
<a name="l00105"></a>00105                         *p_is_board_type_correct= TRUE;
<a name="l00106"></a>00106                 <span class="keywordflow">break</span>;
<a name="l00107"></a>00107         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143ad49f518ff620982b2d0b3ee5dd53d17d">CVT_V17XX_RCFG_BOARD_ID_V1721</a>:                     <span class="comment">//  V1721</span>
<a name="l00108"></a>00108         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143abb3d7efa8ba97db3a4d22e81de2432f0">CVT_V17XX_RCFG_BOARD_ID_VX1721</a>:            <span class="comment">// VX1721</span>
<a name="l00109"></a>00109         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffadf336129da65c20b03804cba52759bf6" title="The board is DT5721.">CVT_V17XX_RCFG_BOARD_ID_DT5721</a>:            <span class="comment">// DT5721</span>
<a name="l00110"></a>00110         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffaeb5b7a8d38b8e8da0472a987eb641972" title="The board is N6721.">CVT_V17XX_RCFG_BOARD_ID_N6721</a>:                     <span class="comment">//  N6721</span>
<a name="l00111"></a>00111                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a1cc7b5063f27a2cd67d74ee0ca248578" title="The board is V1721.">CVT_V1721</a>)
<a name="l00112"></a>00112                         *p_is_board_type_correct= TRUE;
<a name="l00113"></a>00113                 <span class="keywordflow">break</span>;
<a name="l00114"></a>00114         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a9c9c2a30400a114a5eabe6f63349e13c">CVT_V17XX_RCFG_BOARD_ID_V1731</a>:                     <span class="comment">//  V1731</span>
<a name="l00115"></a>00115         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a88d665844e7ab806c9a31926a505bf30">CVT_V17XX_RCFG_BOARD_ID_VX1731</a>:            <span class="comment">// VX1731</span>
<a name="l00116"></a>00116         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffacaea311a578c5f6af62c4b91693388ba" title="The board is DT5731.">CVT_V17XX_RCFG_BOARD_ID_DT5731</a>:            <span class="comment">// DT5731</span>
<a name="l00117"></a>00117         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffaeaacbcf1210474663ff3ae014969433b" title="The board is N6731.">CVT_V17XX_RCFG_BOARD_ID_N6731</a>:                     <span class="comment">//  N6731</span>
<a name="l00118"></a>00118                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a53253f7bfab6f1dd94f7b73a3e7b2ffb" title="The board is V1731.">CVT_V1731</a>)
<a name="l00119"></a>00119                         *p_is_board_type_correct= TRUE;
<a name="l00120"></a>00120                 <span class="keywordflow">break</span>;
<a name="l00121"></a>00121         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a508c96d54c6647875f15b9724b14197f">CVT_V17XX_RCFG_BOARD_ID_V1720</a>:                     <span class="comment">//  V1720</span>
<a name="l00122"></a>00122         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143aec348fee39762065729c0b428e59e1f2">CVT_V17XX_RCFG_BOARD_ID_VX1720</a>:            <span class="comment">// VX1720</span>
<a name="l00123"></a>00123         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffae45ea3db70b2d010f03890e2f4433e69" title="The board is DT5720.">CVT_V17XX_RCFG_BOARD_ID_DT5720</a>:            <span class="comment">// DT5720</span>
<a name="l00124"></a>00124         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffabe79cfa2269e31b2849d9878689b708e" title="The board is N6720.">CVT_V17XX_RCFG_BOARD_ID_N6720</a>:                     <span class="comment">//  N6720</span>
<a name="l00125"></a>00125                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610ae7fc5877e3aca04a8b498b8035563491" title="The board is V1720.">CVT_V1720</a>)
<a name="l00126"></a>00126                         *p_is_board_type_correct= TRUE;
<a name="l00127"></a>00127                 <span class="keywordflow">break</span>;
<a name="l00128"></a>00128         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a6c943fad301569620deb19b105c9c9b6">CVT_V17XX_RCFG_BOARD_ID_V1740</a>:                     <span class="comment">//  V1740</span>
<a name="l00129"></a>00129         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a557bed0bf14da8aa0291a2bd561f5ad5">CVT_V17XX_RCFG_BOARD_ID_VX1740</a>:            <span class="comment">// VX1740</span>
<a name="l00130"></a>00130         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffaa0cd4a596f733247377e1684c6b49e82" title="The board is DT5740.">CVT_V17XX_RCFG_BOARD_ID_DT5740</a>:            <span class="comment">// DT5740</span>
<a name="l00131"></a>00131         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffae82185a7a80f6cccfd40ea3cae13b818" title="The board is N6740.">CVT_V17XX_RCFG_BOARD_ID_N6740</a>:                     <span class="comment">//  N6740</span>
<a name="l00132"></a>00132                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610afc553787456c85d4b462d3ad0d39a230" title="The board is V1740.">CVT_V1740</a>)
<a name="l00133"></a>00133                         *p_is_board_type_correct= TRUE;
<a name="l00134"></a>00134                 <span class="keywordflow">break</span>;
<a name="l00135"></a>00135         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a7e1950ed880078ee4d8bfbabdf4820f1">CVT_V17XX_RCFG_BOARD_ID_V1751</a>:                     <span class="comment">//  V1751</span>
<a name="l00136"></a>00136         <span class="keywordflow">case</span> <a class="code" href="cvt___v1724_8h.html#aaa450477cb9c3e4d03981d5280087143a1aa68df67b78bdf9c1aba12de544f405">CVT_V17XX_RCFG_BOARD_ID_VX1751</a>:            <span class="comment">// VX1751</span>
<a name="l00137"></a>00137         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffa443b95a2c54042b31ff5ee4f76781248" title="The board is DT5751.">CVT_V17XX_RCFG_BOARD_ID_DT5751</a>:            <span class="comment">// DT5751</span>
<a name="l00138"></a>00138         <span class="keywordflow">case</span> <a class="code" href="_v17_x_x__board_8h.html#a667cbcff5cb6c6d91c004921bdabbcffa16e9b4a4b851cc8e0e1a885da236ffe1" title="The board is N6751.">CVT_V17XX_RCFG_BOARD_ID_N6751</a>:                     <span class="comment">//  N6751</span>
<a name="l00139"></a>00139                 <span class="keywordflow">if</span>( p_data-&gt;<a class="code" href="structcvt___v1724__data.html#a4044d71da59ce7f36e7392ecd8b0e0d2">m_type</a>== <a class="code" href="cvt___v1724_8h.html#a4379831f05b7b9a82ec8d2fd03e9e610a3dede885f83d261437e0bc80f650b660" title="The board is V1751.">CVT_V1751</a>)
<a name="l00140"></a>00140                         *p_is_board_type_correct= TRUE;
<a name="l00141"></a>00141                 <span class="keywordflow">break</span>;
<a name="l00142"></a>00142         }
<a name="l00143"></a>00143         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="class_v17_x_x_board.html#a655f14d560f4ad11127e6be6f8114bb4">00146</a> <a class="code" href="class_generic_board_channel.html">GenericBoardChannel</a>* <a class="code" href="class_v17_x_x_board.html#a655f14d560f4ad11127e6be6f8114bb4">V17XXBoard::CreateChannel</a>( <span class="keywordtype">int</span> ch_index, <span class="keywordtype">void</span> (* scope_refresh)( <span class="keywordtype">int</span>, <span class="keywordtype">bool</span>), wxMutex *p_data_mutex)
<a name="l00147"></a>00147 {
<a name="l00148"></a>00148         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_v17_x_x_board_channel.html">V17XXBoardChannel</a>( <span class="keyword">this</span>, ch_index, this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, scope_refresh, p_data_mutex, this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>);
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00151"></a><a class="code" href="class_v17_x_x_board.html#ad4bd17154420aa1fe889713e766fa440">00151</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#ad4bd17154420aa1fe889713e766fa440">V17XXBoard::WriteSampleBufferSize</a>( <span class="keywordtype">void</span>)
<a name="l00152"></a>00152 {
<a name="l00153"></a>00153         <a class="code" href="cvt___v1724_8h.html#a8bfce99d304af1f56ccd640cf8dea682" title="The number for blocks.">CVT_V1724_NUM_BLOCKS</a> num_block_written;
<a name="l00154"></a>00154         <a class="code" href="cvt__common__defs_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1" title="Unsigned 16 bit word.">UINT16</a> num_k_samples= this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#a3e3be0309a8e4e59cdd6f4867dd98ff0">m_num_sample</a>&gt;&gt; 10;
<a name="l00155"></a>00155         
<a name="l00156"></a>00156         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a7ba3b7d78fe4cec660faa0bdd4a00462" title="Sets the maximum number of samples per events for each channel.">cvt_V1724_set_buffer_samples</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, num_k_samples, &amp;num_block_written))
<a name="l00157"></a>00157                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00158"></a>00158         <span class="comment">// Adjust the X size to the buffer size really setted </span>
<a name="l00159"></a>00159         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a3a0b7e4efbafa259c60a4c7221d588a3" title="Returns the maximum number of samples per events for each channel.">cvt_V1724_get_buffer_samples</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data, &amp;num_k_samples, &amp;num_block_written))
<a name="l00160"></a>00160                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00161"></a>00161         this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#aa2e8145698fe6725991db0534959fadf">m_max_log_X</a>= ((int)num_k_samples)&lt;&lt; 10;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a12a3a5ee51d0bc9e5a355364bac9599b" title="Setups the acquisition mode parameters.">cvt_V1724_set_acquisition_mode</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data, <span class="keyword">false</span>, num_block_written, <a class="code" href="cvt___v1724_8h.html#ad0d6189acd971bb5193112d6a3c0d287af3ee124d33623df3a9e6f74237e631e8">CVT_V1724_ACQCTRL_ACQ_MODE_REGISTER_CTRL</a>, <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>, 0))
<a name="l00164"></a>00164                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00165"></a>00165         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#a162f2c241a1c0e31b7d1a77fc5ee2b2b" title="Performs a data clear.">cvt_V1724_data_clear</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data)!= FALSE;
<a name="l00166"></a>00166 }
<a name="l00167"></a>00167 
<a name="l00168"></a><a class="code" href="class_v17_x_x_board.html#acac548d15a750157f8c0d75658eec621">00168</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#acac548d15a750157f8c0d75658eec621">V17XXBoard::WriteTriggerMode</a>( <span class="keywordtype">bool</span> started)
<a name="l00169"></a>00169 {
<a name="l00170"></a>00170         <span class="keywordtype">bool</span> falling_edge_enable= this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#a04e44ce2925c5286195cca1fba09d69e">m_trigger_edge_type</a>== <a class="code" href="class_app_settings.html#aca638c4f731dd795a247fcf710849c41a81447c25221f8b631c157d2460d7a0fe">AppSettings::FALLING_EDGE</a>;
<a name="l00171"></a>00171         <span class="keywordtype">bool</span> trigger_out_enable= this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#a04e44ce2925c5286195cca1fba09d69e">m_trigger_edge_type</a>!= <a class="code" href="class_app_settings.html#aca638c4f731dd795a247fcf710849c41aeecff97beb2d7452518e3304d165b107">AppSettings::NO_TRIGGER</a>;
<a name="l00172"></a>00172         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch_msk= 0;
<a name="l00173"></a>00173         <span class="keywordtype">int</span> i;
<a name="l00174"></a>00174 
<a name="l00175"></a>00175         <span class="comment">// HACK: delete when fixed on next firmware release</span>
<a name="l00176"></a>00176         <span class="keywordflow">if</span>( this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#abc44ef25e1e754c5718e2b4f33ca1242">m_post_trigger</a>&lt; 5)
<a name="l00177"></a>00177                 this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#abc44ef25e1e754c5718e2b4f33ca1242">m_post_trigger</a>= 5;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         <a class="code" href="cvt__common__defs_8h.html#ab27e9918b538ce9d8ca692479b375b6a" title="Unsigned 8 bit word.">UINT8</a> ch_enable_msk= this-&gt;<a class="code" href="class_generic_board.html#a34f15e306d5825c282943ab71ef8f88b">GetChEnableMsk</a>();
<a name="l00180"></a>00180         <span class="keywordflow">for</span>( i= 0; i&lt; (int)this-&gt;<a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">m_channel_array</a>.GetCount(); i++)
<a name="l00181"></a>00181         {
<a name="l00182"></a>00182                 ch_msk|= ( (<a class="code" href="class_generic_board_channel.html">GenericBoardChannel</a>*)this-&gt;<a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">m_channel_array</a>[i])-&gt;m_enabled? ( 1&lt;&lt; i): 0;
<a name="l00183"></a>00183                 ( (<a class="code" href="class_generic_board_channel.html">GenericBoardChannel</a>*)this-&gt;<a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">m_channel_array</a>[i])-&gt;SetEnable( !started, !(ch_enable_msk&amp; ( 1&lt;&lt; i)));
<a name="l00184"></a>00184         }
<a name="l00185"></a>00185         <span class="keywordflow">if</span>( !( started? 
<a name="l00186"></a>00186                 <a class="code" href="cvt___v1724_8h.html#a9c33c1c932ce595752a9d0dcddd0ac81" title="Setups the triggering parameters.">cvt_V1724_set_trigger_mode</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, falling_edge_enable, this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#ab705c95346e4b9fbf1fd2fc0e9e0e798">m_trigger_msk</a>&amp; ( <span class="keywordtype">int</span>)<a class="code" href="class_app_settings.html#aca36f03b783c97aad59fe6b60e75ca87a65ad4c82e7d52b1d37d254c553876db2">AppSettings::EXT_TRIGGER_MSK</a>, <span class="keyword">true</span>, trigger_out_enable? ch_msk: 0x00, <span class="keyword">false</span>, this-&gt;m_p_app_settings-&gt;m_post_trigger):
<a name="l00187"></a>00187                 <a class="code" href="cvt___v1724_8h.html#a9c33c1c932ce595752a9d0dcddd0ac81" title="Setups the triggering parameters.">cvt_V1724_set_trigger_mode</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, 0x00, <span class="keyword">false</span>, this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#abc44ef25e1e754c5718e2b4f33ca1242">m_post_trigger</a>)))
<a name="l00188"></a>00188                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00189"></a>00189         <span class="comment">// Data clear</span>
<a name="l00190"></a>00190         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#a162f2c241a1c0e31b7d1a77fc5ee2b2b" title="Performs a data clear.">cvt_V1724_data_clear</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data)!= <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>;
<a name="l00191"></a>00191 }
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="class_v17_x_x_board.html#ab688d61090da8d95452638f601c0cc17">00193</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#ab688d61090da8d95452638f601c0cc17">V17XXBoard::WriteSoftwareTrigger</a>( <span class="keywordtype">void</span>)
<a name="l00194"></a>00194 {
<a name="l00195"></a>00195         wxMutexLocker lock( this-&gt;<a class="code" href="class_generic_board.html#a70b0225094b644ff787a6301c8ccc0c2">m_p_app_settings</a>-&gt;<a class="code" href="class_app_settings.html#acf772afcda7732c29c93f332c26d9d84">m_mutex</a>);
<a name="l00196"></a>00196 
<a name="l00197"></a>00197         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#ae8600c1bbb0ae4bd33d831e51d587902" title="Performs a software trigger.">cvt_V1724_software_trigger</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>)!= <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>;
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="class_v17_x_x_board.html#a5eeb4abf2ebdd33147b45d208d07af1b">00200</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#a5eeb4abf2ebdd33147b45d208d07af1b">V17XXBoard::SetFrontPanelIO</a>( <span class="keywordtype">bool</span> use_TTL)
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202         <span class="keywordflow">if</span>( !<a class="code" href="cvt___v1724_8h.html#a5f3aad144fdfa803ba524a09e2f45bd9" title="Sets front panel&amp;#39;s IO.">cvt_V1724_set_front_panel_IO</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, use_TTL, TRUE, 0, <a class="code" href="cvt___v1724_8h.html#a37c48d2968d7610521a8d452579f1d90a52d5061ab0049b1ee71a997cdc52f536">CVT_V1724_FPIO_MODES_GPIO</a>))
<a name="l00203"></a>00203                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00204"></a>00204         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#a162f2c241a1c0e31b7d1a77fc5ee2b2b" title="Performs a data clear.">cvt_V1724_data_clear</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;m_p_data)!= <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>;
<a name="l00205"></a>00205 }
<a name="l00206"></a><a class="code" href="class_v17_x_x_board.html#a2303adf9c4fee82120777c603b92393d">00206</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#a2303adf9c4fee82120777c603b92393d">V17XXBoard::ReadBoardData</a>( <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> *p_max_num_samples, <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a>* p_num_events)
<a name="l00207"></a>00207 {
<a name="l00208"></a>00208         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#afe6024ed734c5d778d1a7d5019deebf0" title="Reads data from the board&amp;#39;s channels and stores to user buffer.">cvt_V1724_read_data</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, p_max_num_samples, p_num_events)!= <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>;
<a name="l00209"></a>00209 }
<a name="l00210"></a><a class="code" href="class_v17_x_x_board.html#a7ff990996cc69e19d87f974fbda7df6c">00210</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#a7ff990996cc69e19d87f974fbda7df6c">V17XXBoard::DoStartAcquisition</a>( <span class="keywordtype">void</span>)
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch_msk= 0;
<a name="l00213"></a>00213         <span class="keywordtype">int</span> i= 0;
<a name="l00214"></a>00214         <span class="keywordflow">for</span>( i= 0; i&lt; (int)this-&gt;<a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">m_channel_array</a>.GetCount(); i++)
<a name="l00215"></a>00215         {
<a name="l00216"></a>00216                 ch_msk|= ( (<a class="code" href="class_generic_board_channel.html">GenericBoardChannel</a>*)this-&gt;<a class="code" href="class_generic_board.html#ad9e8974674ad57850b4bcf5b46053d5a">m_channel_array</a>[i])-&gt;m_enabled? ( 1&lt;&lt; i): 0;
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218         <span class="keywordflow">if</span>( <a class="code" href="cvt___v1724_8h.html#aa7352ccd80eaefe0e27cdd04ca6f02a3" title="Setups data readout mode parameters.">cvt_V1724_set_readout_mode</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, TRUE, 1)== <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>)
<a name="l00219"></a>00219         {
<a name="l00220"></a>00220                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00221"></a>00221         }
<a name="l00222"></a>00222         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#a8b77c6274c94a42590c2479d3cac4aa9" title="Starts the acquisition for the spcified channel mask.">cvt_V1724_start_acquisition</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>, ch_msk)!= <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>;
<a name="l00223"></a>00223 }
<a name="l00224"></a><a class="code" href="class_v17_x_x_board.html#ab3f2b3aeb1e27f57ad9b8ad0ba7f0ffc">00224</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#ab3f2b3aeb1e27f57ad9b8ad0ba7f0ffc">V17XXBoard::DoStopAcquisition</a>( <span class="keywordtype">void</span>)
<a name="l00225"></a>00225 {
<a name="l00226"></a>00226         <span class="keywordflow">return</span> <a class="code" href="cvt___v1724_8h.html#a0005970037d5578875882d49957612ab" title="Stops the acquisition.">cvt_V1724_stop_acquisition</a>( (<a class="code" href="structcvt___v1724__data.html" title="V1724 board data structure.">cvt_V1724_data</a>* )this-&gt;<a class="code" href="class_generic_board.html#a5b6fc088bbe698faa4b52894f2f73a03">m_p_data</a>)!= <a class="code" href="cvt__common__defs_8h.html#aa93f0eb578d23995850d61f7d61c55c1" title="&amp;lt; Boolean TRUE value">FALSE</a>;
<a name="l00227"></a>00227 }
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="class_v17_x_x_board.html#a355c3cf1d0fee9bdab27a2cb8c1e4b7e">00229</a> <span class="keywordtype">bool</span> <a class="code" href="class_v17_x_x_board.html#a355c3cf1d0fee9bdab27a2cb8c1e4b7e">V17XXBoard::GetBoardId</a>( <a class="code" href="structcvt__board__data.html" title="Data common to every board.">cvt_board_data</a> data, <span class="keywordtype">int</span> &amp;board_id)
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231         <span class="comment">//UINT32 reg_value32= 0;</span>
<a name="l00234"></a>00234 <span class="comment"></span>        <span class="comment">//if( !cvt_read( &amp;data, CVT_V1724_BOARD_INFO_ADD, &amp;reg_value32, CVT_V1724_BOARD_INFO_AM, CVT_V1724_BOARD_INFO_DATA_SIZE))</span>
<a name="l00235"></a>00235         <span class="comment">//{</span>
<a name="l00236"></a>00236         <span class="comment">//      return false;</span>
<a name="l00237"></a>00237         <span class="comment">//}</span>
<a name="l00238"></a>00238         <a class="code" href="cvt__common__defs_8h.html#ae1e6edbbc26d6fbc71a90190d0266018" title="Unsigned 32 bit word.">UINT32</a> reg_value= 0;
<a name="l00239"></a>00239         board_id= 0;
<a name="l00240"></a>00240         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8h.html#a80879668ba2ef9cac1c11a1eb22d427c" title="Reads a register from VME board.">cvt_read</a>( &amp;data, <a class="code" href="cvt___v1724_8h.html#ab6c4344edda12b8c03da7eaad98894df" title="Configuration ROM Board identifier (LSB) relative address.">CVT_V1724_ROM_BOARD_ID_0_ADD</a>, &amp;reg_value, <a class="code" href="cvt___v1724_8h.html#acfb4fcb344995b3bc97864be143d1d77" title="Configuration ROM Board identifier (LSB) address modifier.">CVT_V1724_ROM_BOARD_ID_0_AM</a>, <a class="code" href="cvt___v1724_8h.html#a5b0fd93b4323d7240e10009d13121aa8" title="Configuration ROM Board identifier (LSB) data size.">CVT_V1724_ROM_BOARD_ID_0_DATA_SIZE</a>))
<a name="l00241"></a>00241         {
<a name="l00242"></a>00242                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00243"></a>00243         }
<a name="l00244"></a>00244         board_id= reg_value&amp; 0x000000ff;
<a name="l00245"></a>00245         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8h.html#a80879668ba2ef9cac1c11a1eb22d427c" title="Reads a register from VME board.">cvt_read</a>( &amp;data, <a class="code" href="cvt___v1724_8h.html#ab1a8ea460f33cf6f4771362e202718d5" title="Configuration ROM Board identifier relative address.">CVT_V1724_ROM_BOARD_ID_1_ADD</a>, &amp;reg_value, <a class="code" href="cvt___v1724_8h.html#a057dd8c517472fc5c3dc3de72dac4017" title="Configuration ROM Board identifier address modifier.">CVT_V1724_ROM_BOARD_ID_1_AM</a>, <a class="code" href="cvt___v1724_8h.html#a52946f4742ec308789d67786c58e6a5d" title="Configuration ROM Board identifier data size.">CVT_V1724_ROM_BOARD_ID_1_DATA_SIZE</a>))
<a name="l00246"></a>00246         {
<a name="l00247"></a>00247                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00248"></a>00248         }
<a name="l00249"></a>00249         board_id|= (reg_value&amp; 0x000000ff)&lt;&lt; 8;
<a name="l00250"></a>00250         <span class="keywordflow">if</span>( !<a class="code" href="cvt__board__commons_8h.html#a80879668ba2ef9cac1c11a1eb22d427c" title="Reads a register from VME board.">cvt_read</a>( &amp;data, <a class="code" href="cvt___v1724_8h.html#acac8785577e0eb77ed72f4b27229d2ba" title="Configuration ROM Board identifier (MSB) relative address.">CVT_V1724_ROM_BOARD_ID_2_ADD</a>, &amp;reg_value, <a class="code" href="cvt___v1724_8h.html#aa14320195db36f85d2da77ea58d56550" title="Configuration ROM Board identifier (MSB) address modifier.">CVT_V1724_ROM_BOARD_ID_2_AM</a>, <a class="code" href="cvt___v1724_8h.html#ae090608a26532f991ad994742ca8d7dc" title="Configuration ROM Board identifier (MSB) data size.">CVT_V1724_ROM_BOARD_ID_2_DATA_SIZE</a>))
<a name="l00251"></a>00251         {
<a name="l00252"></a>00252                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00253"></a>00253         }
<a name="l00254"></a>00254         board_id|= (reg_value&amp; 0x000000ff)&lt;&lt; 16;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 1 12:08:03 2010 for CAENScope by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
